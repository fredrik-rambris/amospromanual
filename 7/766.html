<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - AMAL</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>AMAL</h1>

<br>

<p>
through the internal registers R0 and R1. Every animated Object is assigned its own unique set
of AMAL registers, but if several Objects are being animated together, several registers may
need to be set with exactly the same values. Although this can be achieved by the AMREG
function, it is simpler to use a single instruction for changing these registers, affecting a whole
batch of Objects simultaneously.</p>

<p>
When speed and direction parameters are given after an AMPLAY command, they are loaded
in to registers R0 and R1 in the selected channels. The controlling speed of the Object is set by a
delay time, given in 50ths of a second, between each movement of the Object. The direction
parameter changes the direction of the movement, and is set by one of the following values:</p>

<pre>
<b>Value Direction of Motion</b>
>0    Move the selected Object in the original movement direction
0     Reverse the motion and move the Object backwards
-1    Abort movement and jump to next AMAL instruction
</pre>

<p>Note that either the speed or direction parameters can be omitted, as required.</p>

<p>
The AMPLAY command normally affects all current animation channels, but optional start and
end points may also be given to set the channel numbers of the first and last Objects to be
affected. Here are some examples:</p>

<pre>
X> Amplay ,0: Rem Reverse objects
   Amplay 2, : Rem Slow down movement pattern
   Amplay 3,1 : Rem Set speed to 3 and direction to 1
   Amplay ,-1 3 To 6: Rem Stop movement on channels 3,4,5 and 6
</pre>

<p><b>CHANAN</b><br>
<i>function: test a channel for an active animation</i><br>
value=<b>Chanan</b>(channel number)

<p>
This simple function is used to check if the specified animation channel is currently engaged.
A value of -1 (true) is returned if the animation is active, otherwise a zero (false) is given if the
animation is complete. Here is an example:</p>

<pre>
E> Load "AMOSPro Tutorial:Objects/Sprites.abk" : Get Sprite Palette
   Sprite 9,150,150,1
   M$="Anim 12,(1,4)(2,4)"
   Amal 9,M$ : Amal On : Wait Vbl
   While Chanan(9)
   Wend
   Print "Animation complete!"
</pre>

<p><b>CHANMV</b><br>
<i>function: test channel for an active Object</i><br>
value=<b>Chanmv</b>(channel number)</p>

<p>
The CHANMV function is used to check if the Object assigned to the
specified channel is currently moving.</p>

<div align="right"> <a href="765.html">Back</a> &nbsp;&nbsp;
  <a href="767.html">Next</a>
  <br>
  07.06.19
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - AMAL</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>AMAL</h1>

<br>

<p>
To animate computed Sprite numbers 16 to 63, they must be directly allocated to an animation
channel with the CHANNEL command, like this:</p>

<pre>
X> Load "AMOSPro_Tutorial:Tutorials/AMAL/Channel 20 To Sprite 18"
</pre>

<p>
The X,Y registers in your AMAL program now refer to the <b>hardware</b> coordinates of the selected
Sprite, and the current image of that Sprite is held in register A.</p>

<p><b>Animating Bobs</b><br>

A Bob is assigned to an animation channel in the same way, and will be treated in an identical
manner to the equivalent hardware Sprite. The only difference will be that registers X and Y will
hold the current Bob position in <b>screen</b> coordinates.</p>

<p>Please loads the following program for a demonstration of assigning channels:</p>

<pre>
LD> Load "AMOSPro_Tutorial:Tutorials/AMAL/AMAL_4.AMOS"
</pre>

<p><b>Animating more than 16 Objects</b><br>

As has been explained, up to 16 different AMAL programs can normally be executed at one
time. This limitation is imposed by the Amiga's interrupt capabilities being unable to cope
with more. Fortunately, the AMOS Professional programmer is provided with the means to
beat this limitation, by executing AMAL programs directly, and bypassing the interrupt system
altogether.</p>

<p><b>SYNCHRO</b><br>
<b>SYNCHRO ON</b><br>
<b>SYNCHRO OFF</b><br>
<i>instructions: execute AMAL programs directly</i><br>
<b>Synchro</b><br>
<b>Synchro On</b><br>
<b>Synchro Off</b></p>

<p>
All AMAL programs can be run by a single call to the SYNCHRO command. Prior to calling
SYNCHRO, the interrupts must be turned off with a SYNCHRO OFF instruction. It is important
that this is done <b>before</b> defining your AMAL programs, otherwise you will still be restricted to
using channels 0 to 15.</p>

<p>
Because AMAL programs are so much faster than their Basic equivalents, animations will be
incredibly smooth, even when the limit of 16 Objects is broken. For a ready-made example
please load the following program:</p>

<pre>
LD> Load "AMOSPro_Tutorial:Tutorials/AMAL/AMAL_6.AMOS"
</pre>

<p><b>Manipulating screens</b><br>

The CHANNEL command is not restricted to assigning Objects. It can also be used to affect
entire screens in four different ways: positioning screens, scrolling screens, changing the screen
size and generating rainbow effects.</p>

<div align="right"> <a href="759.html">Back</a> &nbsp;&nbsp;
  <a href="761.html">Next</a>
  <br>
  07.06.13
</div>

</BODY>
</HTML>

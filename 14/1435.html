<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Memory Bank Structures</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Memory Bank Structures</h1>

<br>

<pre>
         REPT     Number_of_patterns
* We will now define a separate note list for each voice
* This is NOT essential, as the notes are TOTALLY independent of the voice number
* So the same note list can be used for ANY of the four voices if required
*
Voice_0_Note_List.pat:    
            dc.w   ""              * All the notes for voice 0 go here
Voice_1_Note_List.pat:
            dc.w   ""              * All the notes for voice 1 go here
Voice_2_Note_List.pat:
            dc.w   ""              * All the notes for voice 2 go here
Voice_3_Note_List.pat:
            dc.w   ""              * All the notes for voice 3 go here
         ENDR
* End Repeat
</pre>

<p><b>The Patterns</b><br>

Unlike the <i>Soundtracker</i> system, Patterns are held as a simple list of notes, and they can be
assigned to any of the four voices independently. Providing that the correct offset values are set,
you can play the same pattern through all of the available voices simultaneously.</p>

<p>
The AMOS Professional music format is closer to IFF music format than the standard
<i>Soundtracker</i> system. Each effect, every instrument and each note is defined by a specific label.
Several labels can be inserted in a sequence, and the AMOS Professional music routines will
execute them one by one, until it finds the actual note to be played through a loudspeaker.</p>

<p>The labels are stored as two-byte words, using the following system:</p>

<pre>
+ A normal note:
         dc.w         %0000pppppppppppp
         * pppppppppppp defines the "period" of the sample
         * This will be poked directly into the Amiga's sound chips
         * Please see your technical reference manual for more details
</pre>

<p>The note will be played immediately, using the current instrument assigned to the voice.</p>

<p>Labels are defined by setting bit 15 of the note to 1. The general format is as follows:</p>

<pre>
         dc.w            %11111111 pppppppp
         * 11111111: the number of the label
         * pppppppp: a parameter value
</pre>

<p>Here is a full list of the possible label types:</p>

<pre>
 + PATTERN_END             label 0
         dc.w              %10000000 00000000
 + SET_VOLUME              label 3(1 and 2 are presently unused)
         dc.w              %10000011 vvvvvvvv
         * vvvvvvvv : volume level from 0 to 63
</pre>

<div align="right"> <a href="1434.html">Back</a> &nbsp;&nbsp;
  <a href="1436.html">Next</a>
  <br>
  14.E.11
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Memory Bank Structures</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Memory Bank Structures</h1>

<br>

<pre>
X_Size              This holds the width of the image, divided by 16.
Y_Size              Stores the height of the image in screen lines.
Number_Of_Planes    A value from 1 to 6 which sets the number of colour planes.
X_Hot,Y_Hot         These set the position of the hot spot of the image
Flipping_Flags      This is used by the HREV, VREV and REV functions.
</pre>

<p>
The Bob flip commands were added in AMOS V1.21 and rather than redefine the entire system,
Francois Lionet simply grabbed a couple of bits at the top of the HOT SPOT, and used them
directly for the new options. The x-coordinate was truncated to 14 bits (signed), so you may now
set HOT SPOT values between -4096 and 4096, which is hardly a limitation!</p>

<p>
Bit #15 indicates that the image has been flipped from left to right, and bit #14 informs AMOS
Professional that the image has been turned upside down.</p>

<p>
If the mask has been defined, it only contains one bitplane. Bits with a value of zero are
transparent, allowing the background to be seen through them, and bits with a value of 1 are
opaque.</p>

<pre>
Mask_Address:
  dc.l   Size_Of_The_Mask In_Bytes
  dcb.w  X_Size * Y_Size
</pre>

<p><b>Object banks and Icon banks stored on disc</b><br>

An Object or Icon bank is stored very differently on disc, as all information relating to the
pointer is discarded.</p>

<pre>
* When saving a Sprite bank the header starts with:

  dc.b  "AmSp"
* If it is an Icon bank:
  dc.b  "Amlc"
* The rest of the header is common to both Objects and Icons:
  dc.w  Number_Of_Objects
  REPT  Number_Of_Objects
        dc.w  X_Size
        dc.w  Y_Size
        dc.w  Number_Of_Planes
        dc.w  X_Hot_Spot
        dc.w  Y_Hot_Spot
        REPT  Number_Of_Planes
              * The actual image goes here
              dcb.w X_Size * Y_Size
        ENDR
  ENDR
* 32 colour palette holding the image colours
  dcb.w 32
</pre>

<div align="right"> <a href="1430.html">Back</a> &nbsp;&nbsp;
  <a href="1432.html">Next</a>
  <br>
  14.E.07
</div>

</BODY>
</HTML>

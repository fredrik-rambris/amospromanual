<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Machine Code</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Machine Code</h1>

<br>

<p><b>ROR</b><br>
<i>instruction: rotate right</i><br>
<b>Ror.B</b> number,bin value<br>
<b>Ror.W</b> number,bin value<br>
<b>Ror.L</b> number,bin value</p>

<p>
The ROR commands are similar to ROL, except they rotate numbers from left to right. As before,
the number of places to be moved must be set, followed by a variable or an expression. If an
expression is used, it will be treated as the address of your value. ROR can be used as a fast way
of dividing any positive number by a power of two, like this:</p>

<pre>
E> A=8
   Ror.l 1,A
   Print A
</pre>

<p><b>BTST</b><br>
<i>function: test a bit</i><br>
bit=<b>Btst</b>(number,value)</p>

<p>
The BTST function tests a single binary bit in a given value. Specify the number of the bit to be
tested, from 0 to 31, then give the chosen variable or expression. If the given value is an
expression, it will be used as an address, so the bit will then be checked at LEEK(value) instead.
Note that only bits 0 to 7 can be tested by this system, and that AMOS Professional will take
your bit number and perform an automatic AND operation with 7, to ensure that it lies in the
correct range.</p>

<p>
If the test is successful, a value of -1 (True) is returned, otherwise a zero (False) is given.
For example:</p>

<pre>
E> B=%1010
   Print Btst(3,B)
   Print Btst(2,B)
</pre>

<p><b>BSET</b><br>
<i>instruction: set a bit to 1</i><br>
<b>Bset</b> position,value</p>

<p>
The BSET command sets a bit to 1. Specify the bit by giving its position in a variable or an
expression. If an expression is used, it will be treated as an address of a value in the Amiga's
memory. If the bit number and the variable are given in the wrong order, your computer will crash!</p>

<p><b>BCHG</b><br>
<i>instruction: toggle a bit</i><br>
<b>Bchg</b> position,value</p>

<p>This instruction flips a binary bit from 0 to 1, or from 1 to 0, as appropriate.</p>

<div align="right"> <a href="1409.html">Back</a> &nbsp;&nbsp;
  <a href="1411.html">Next</a>
  <br>
  14.A.10
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Memory Bank Structures</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Memory Bank Structures</h1>

<br>

<pre>
* For NN=1 To the Number of Recordings
Moves    dc.w      Number_Of_Movements
* Pointers to the list of X coordinates
         REPT      Number_Of_Movements
            dc.w   (XMove_NN-Moves)/2              Offset to the X coordinates /2
                                                   Or zero if they are not defined
         ENDR
* Location of the Y coordinates
         REPT      Number_Of_Movements
            dc.w   (YMove_NN-Moves)/2              Offset to Y coordinates /2
                                                   Or zero if they are not defined
         ENDR
* Stores an eight byte name for each movement table
         REPT      Number_Of_Movements
            dc.b "MoveName"   8 Bytes per move
         ENDR
* Finally here are the movement definitions themselves
*
         REPT      Number_Of_Movements
XMove_NN    dc.w    Speed                          Recording speed in 1/50 sec
            dc.w    Length_Of_X_Move               Length of table in Bytes
            dcb.b   ... XMove definition ...
YMove_NN
            dcb.b   ... YMove definition ...
         ENDR
</pre>

<p>
The movements are stored in the following way. The movement table uses the same format for
both X and Y coordinates. It begins and ends with a value of zero, which terminates the list
equally well if the movement is being played forwards or backwards.</p>

<pre>
%00000000    End of the move

%0ddddddd    ddddddd holds the distance to be moved in pixels,
             signed on 7 bits (-128 to +128)
             This distance will be added to the current object
             coordinate to get the new screen position
%1wwwwwww    specifies the number of
             1/50 counts to wait until the next
             movement
</pre>

<p><b>The AMAL programs</b><br>

AMAL command strings are stored in normal Ascii format.</p>


<pre>
Progs   dc.w      Number_Of_Programs        Holds the number of AMAL programs
* Offset list
        REPT      Number_Of_Programs
           dc.w (Prog_NN-Progs)/2           Distance to the NN'th program
</pre>

<div align="right"> <a href="1437.html">Back</a> &nbsp;&nbsp;
  <a href="1439.html">Next</a>
  <br>
  14.E.14
</div>

</BODY>
</HTML>

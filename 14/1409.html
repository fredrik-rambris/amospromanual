<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Machine Code</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Machine Code</h1>

<br>

<p><b>Manipulating bits</b></p>

<p><b>ROL</b><br>
<i>instruction: rotate left</i><br>
<b>Rol.B</b> number,bin value<br>
<b>Rol.W</b> number,bin value<br>
<b>Rol.L</b> number,bin value</p>

<p>
ROL is the AMOS Professional Basic version of the ROL command available from 68000
assembly language. It takes the given binary value, and rotates it the specified number of places
to the left. The value can be a normal variable, or an expression. Expressions will be treated as a
memory location, and AMOS Professional will change the value at the address of the result.</p>

<p>
This command allows instant rotation of any part of the Amiga's memory, and it must be used
with extreme caution! If variables are confused with bit numbers, your machine will crash. Take
heed of the next lines:</p>

<pre>
X> A=1
   Rol.l 1,A : Rem This is fine
   Rol.l A,1 : Rem This is lethal. DO NOT DO IT!
</pre>

<p>There are three forms of the ROL instruction:</p>

<b>ROL.B</b> rotates the first eight bits of the value<br>
<b>ROL.W</b> rotates the bottom 16 bits of the value<br>
<b>ROL.L</b> rotates the entire number</p>

<p>
The ROL command is invaluable as a rapid method of multiplying and positive number by a
power of two, like this:</p>

<pre>
E> B=1
   Rol.l 2,B
   Print B
</pre>

<p>Here is an example routine:</p>

<pre>
E> Curs Off : Locate 0,20 : Centre "Press a key to ROL the number"
   Locate 0,0 : Print "Binary version"
   Locate 0,4 : Print "Decimal version"
   B=1 : Rem Set initial value
   Do
    Locate 0,2: Print Bin$(B,32) : Rem Display number in binary
    Locate 0,6: Print B;"         "; : Rem Nine spaces
    Wait Key
    Rol.l 1,B : Rem Try ROL.W and ROL.B too
   Loop
</pre>

<div align="right"> <a href="1408.html">Back</a> &nbsp;&nbsp;
  <a href="1410.html">Next</a>
  <br>
  14.A.09
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Procedures</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>Procedures</h1>

<br>

<p>There is an alternative method of passing data between a procedure and the main program.
When SHARED is placed inside a procedure definition, it takes a list of local variables separated
by commas and transforms them into global variables, which can be directly accessed from the
main program. Of course, if you declare any arrays as global using this technique, they must
already have been dimensioned in the main program. Here is an example:</p>

<pre>
E> A=666: B=999
   EXAMPLE
   Print A,B
   Procedure EXAMPLE
    Shared A,B
    A=B-A: B=B+1
   End Proc
</pre>

<p>EXAMPLE can now read and write information to the global variables A and B. If you need to
share an array, it should be defined as follows:</p>

<pre>
X> Shared A(),B#(),C$()
</pre>

<p>In a very large program, it is often convenient for different procedures to share the same set of
global variables. This offers an easy way of transferring large amounts of information between
your procedures.</p>

<p>
<b>GLOBAL</b><br>
<i>structure: declare a list of global variables for procedures</i><br>
<b>Global</b> list of variables</p>

<p>GLOBAL sets up a list of variables that can be accessed from absolutely anywhere in your
program. This is a simplified single command, designed to be used without the need for an
explicit SHARED statement in your procedure definitions. Here is an example:</p>

<pre>
E> A=6 : B=9
   Global A,B
   TEST1
   TEST2
   Print A,B
   Procedure TESTI
    A=A+1 : B=B+1
   End Proc
   Procedure TEST2
    A=A+B : B=B+A
   End Proc
</pre>

<p>AMOS Professional programmers who are familiar with earlier versions of the AMOS system are
now able to employ the new facility of using strings in procedure definitions. As with disc
names, the "wild card" characters * and ? can also be included. In this case, the * character is</p>

<div align="right"> <a href="546.html">Back</a> &nbsp;&nbsp;
  <a href="548.html">Next</a>
  <br>
  05.05.06
</div>

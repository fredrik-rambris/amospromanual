<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Control Structures</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>Control Structures</h1>

<br>

<P>
<b>GOSUB</b><BR>
<i>structure: jump to a sub-routine</i><BR>
<b>Gosub</b> label<BR>
<b>Gosub</b> number<BR>
<b>Gosub</b> expression</P>

<P>
Packages of program instructions that perform a specific task can be thought of as 
"routines". When such routines are split into smaller packages of instructions, they can be thought of 
as "sub-routines". GOSUB is another antiquated command, and is used to perform a jump to a 
sub-routine. In fact, GOSUB is made redundant by the AMOS Professional procedure system, but 
it can be useful for STOS users who want to convert programs.</P>

<P>As with GOTO, there are three alternative targets for a GOSUB instruction: labels, line 
numbers or expressions.</P>

<P>
To make sub-routines easier to spot in your program listings, it is good practice to 
place them at the end of the main program. A statement such as EDIT or DIRECT should also be used to end
the main program, which prevents AMOS Professional from executing any GOSUBs after the
main program has finished.</P>

<P>
<b>RETURN</b><BR>
<i>instruction: return from a sub-routine called by GOSUB</i><BR>
<b>Return</b></P>

<P>
When a program obeys a GOSUB instruction, it must be instructed to RETURN to the main
program after the sub-routine has been executed. It should be noted that a single GOSUB
statement can be linked to several RETURN commands, allowing exits from any number of
different points in the routine, depending on the circumstances. After the RETURN, a jump 
is made back to the instruction immediately after the original GOSUB. For example:</P>

<pre>
E&gt; Print "I am the main program"
   For N=1 To 3
    Gosub TEST
   Next N
   End
   TEST:
   Print "Here we go GOSUB" : Wait 50
   Print "Number =";N
   Return
</pre>

<P>
<b>POP</b><BR>
<i>instruction: remove RETURN information</i><BR>
<b>Pop</b></P>

<P>Normally you cannot exit from a GOSUB statement using a standard GOTO, and this may be
inconvenient. For example, there could be an error that makes it unacceptable to return to 
the</P>

<div align="right"> <a href="529.html">Back</a> &nbsp;&nbsp; 
  <a href="531.html">Next</a>
  <br>
  05.04.02
</div>

</BODY>
</HTML>

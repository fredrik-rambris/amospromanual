<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Interface Language</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Interface Language</h1>

<br>

<p><b>Machine code extensions</b><br>

The final part of this Chapter explains how to add your own machine code extensions directly
into the AMOS Professional Interface.</p>

<p>
<b>CA</b>ll<br>
<i>Interface instruction: call a machine code extension</i><br>
<b>CA</b> address;</p>

<p>
The address parameter refers to the address of a machine code program in memory, and the
easiest way to load it is to place it into an Interface variable from the main program. For
example:</p>

<pre>
X> Vdialog(1,0)=Start(6) : Rem Load 0VA of channel 1 with the address of bank 6.
</pre>

<p>You can now run your CAll routine using a line like this:</p>

<pre>
X> Call 0VA;
</pre>

<p>
Machine code can be used to modify all registers, and should return with an RTS. All aspects of
using machine code for your AMOS Professional programs are examined in detail in Appendix
A of this User Guide. If you are familiar with assembly language, the following brief information
will be of use:</p>

<p>On entry to your routine, data will be placed in the address registers like this:</p>

<pre>
A6= Program pointer
A5= AMOS datazone
A4= Base of this Dialog Structure
A3= Parameter stack. Use this to grab values from the Interface stack.
</pre>

<div align="right"> <a href="923.html">Back</a> &nbsp;&nbsp;
  <a href="925.html">Next</a>
  <br>
  09.02.10
</div>

</BODY>
</HTML>

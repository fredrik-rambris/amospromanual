<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - AMOS Interface</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>AMOS Interface</h1>

<br>

<p><b>SA</b>ve<br>
<i>Interface instruction: save background under the dialogue box</i><br>
<b>SA</b> block number;</p>

<p>
This is used to save the graphics defined by the previous BAse and SIze commands. The area
that is saved into memory will be restored to the screen after the Interface program reaches its
final EXit instruction. Give the SAve command, followed by the number of a memory block to be
used for the graphics. If this has already been defined, it will be replaced by the new definition.</p>

<p>
Note that each new control panel can save its own background area independently. Blocks will
be re-drawn in reverse order when the dialogue panel is removed. If there is insufficient
memory, an error will be generated when the program is initialised.</p>

<p>
Supposing a dialogue box is to be positioned from coordinates 50,50 to 210,110. The following
sequence of instructions could be used:</p>

<pre>
E> A$=A$+"BA 50,50; set the coordinate base"
   A$=A$+"SI 160,60; SA 1; save area under dialogue box"
   A$=A$+"IN 0,0,0; GB 5,5,155,56; IN 5,0,0; GB 0,0,150,50; draw a fancy box"
   A$=A$+"PO 5,10,'AMOS Professional',2,4; PR 45,20,'Basic',4; print messages"
   A$=A$+"EXit; quit interface program"
   D=Dialog Box(A$) : Wait key
</pre>

<p>
Unfortunately, when that example is run, the graphics will be removed from the screen
immediately after they have been drawn! This is because DIALOG BOX executes the entire
Interface program in a single burst, and jumps back to the main AMOS Professional program as
soon as it is completed. In order to use a dialogue box, the Interface must be instructed to wait
for an event of some sort. To make that example work properly, read on!</p>

<p><b>Waiting for an event</b></p>

<p><b>R</b>un<b>U</b>ntil<br>
<i>Interface instruction: run until conditions are satisfied</i><br>
<b>RU</b> delay,flags;</p>

<p>
This command runs an Interface program from the first command, and activates all buttons and
sliders that have been defined in the dialogue box. The box now waits on screen, until a specific
set of conditions have been satisfied.</p>

<p>
These conditions can be anything from pressing [Ctrl]+[C], selecting a [Quit] icon, or simply
hitting a key. The requester may also be displayed for a specific amount of time. If the original
screen contents have been saved using the SAve command, they will be restored to normal as
soon as the program returns to AMOS Professional Basic.</p>

<p>
The RunUntil command is ideal for use with dialogue boxes that do not need to interact with
the main AMOS Professional program.</p>

<div align="right"> <a href="907.html">Back</a> &nbsp;&nbsp;
  <a href="909.html">Next</a>
  <br>
  09.01.08
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Libraries and Devices</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Libraries and Devices</h1>

<br>

<p>
Memory used by the IO structure will be returned back to AMOS Professional and the message
port is released for subsequent use. If the channel number is omitted, all active devices are
closed simultaneously, otherwise the single specified device is closed down. Note that if a
specified channel is not already open, no error will be reported.</p>

<p>
<b>DEV DO</b><br>
<i>instruction: call a command using DoI0</i><br>
<b>Dev Do</b> channel number,command number</p>

<p>
The DEV DO instruction executes a DoIO operation via the specified channel. Obviously the
correct internal structure parameters must be set using a STRUC command, before this
operation is called. The specified channel number refers to a previously opened device channel.
The command number holds the number of the IO command you wish to Do. This command
may be entered directly by name, using the EQU function explained earlier. You are warned to
take great care when using this instruction!</p>

<p>
<b>DEV SEND</b><br>
<i>instruction: call a command using SendIO</i><br>
<b>Dev Send</b> channel number,command</p>

<p>
This calls the SendIO command from Exec, and runs your operation using the Amiga's multi-
tasking system. The new process will run invisibly in the background, and your AMOS
Professional program will continue from the next instruction immediately.</p>

<p>
<b>DEV CHECK</b><br>
<i>function: check status of a device with a CheckIO</i><br>
value=<b>Dev Check</b>(channel number)</p>

<p>
Use this function to perform a CheckIO on the specified channel. The resulting value is passed
back to AMOS Professional.</p>

<p>
<b>DEV ABORT</b><br>
<i>instruction: abort an IO operation</i><br>
<b>Dev Abort</b> channel number</p>

<p>
This instruction executes an AbortIO and a WaitIO command, clearing all pending action from
the specified device channel. It can be used to exit directly from a multi-tasking operation,
without waiting for it to complete.</p>

<p>
<b>DEV BASE</b><br>
<i>function: get base address of an IO structure</i><br>
address=<b>Dev Base</b>(channel number)</p>

<p>
This function returns the base address of the IO structure assigned to the current device. The
structure can now be manipulated directly, using the STRUC commands, as required.</p>

<div align="right"> <a href="1120.html">Back</a> &nbsp;&nbsp;
  <a href="../12/1201.html">Next</a>
  <br>
  11.05.08
</div>

</BODY>
</HTML>

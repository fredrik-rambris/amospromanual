<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Libraries and Devices</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Libraries and Devices</h1>

<br>

<p>
<b>GFXCALL</b><br>
<i>function: call Graphics library</i><br>
result=<b>Gfxcall</b>(function offset)</p>

<p>
This executes a function directly from the Graphics library, taking the parameters from the
DREG and AREG arrays. The function offset parameter enters the offset to the function you
wish to call, and can also be set using the LVO function, if required.</p>

<p>
<b>INTCALL</b><br>
<i>function: call Intuition library</i><br>
result=<b>Intcall</b>(function offset)</p>

<p>
The INTCALL function calls a command directly from the Intuition library. Before using this
function, it is vital to load the appropriate control parameters into the registers D0 to D7 and A0
to A3. This can be done with the AREG and DREG variables from an AMOS Professional
program. When the function has been executed, the contents of D0 will be returned back to your
program as the result. Please note that this function is particularly dangerous, unless you are
familiar with the Intuition library.</p>

<p><b>Equates and Offsets</b><br>

Experienced programmers of C or Assembler languages will be used to calling most library
functions directly, by name. These names are converted invisibly into the appropriate offset
values when a program is compiled into machine code. Unfortunately, this technique only
works with compiled languages. AMOS Professional in an interpreted language, and so a
slightly different system has been adopted.</p>

<p>
An "equate" is simply a library function name converted to its internal equivalent. Instead of
supplying the usual Include files, equates have been placed in the "AMOSPro.System_Equate"
file in your "AMOSProSystem" folder. The first time a program is tested, the names are
converted into their internal equivalents by AMOS Professional. Each name is translated into a
single value, which is then saved into a permanent memory bank, ready for instant use.</p>

<p>
As you would expect from AMOS Professional, the entire process is completely automatic.
Simply define a memory bank for your equates, and use the LVO, EQU or STRUC functions
(explained below) to return the relevant offset values. Everything else is handled by AMOS
Professional.</p>

<p>
<b>SET EQUATE BANK</b><br>
<i>instruction: set up the automatic equate system</i><br>
<b>Set Equate Bank</b> bank number</p>

<p>
This command allocates a memory bank for use by the automatic equate system. It should be
called up <b>before</b> the first equate in your program, preferably near the beginning. Specify the
bank number to be used for your equates, ranging from 1 to 65535. Any existing bank of the
same number will be <b>erased</b> when the equates are installed in memory, without warning, so
take care!</p>

<div align="right"> <a href="1115.html">Back</a> &nbsp;&nbsp;
  <a href="1117.html">Next</a>
  <br>
  11.05.03
</div>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Disc Access</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Disc Access</h1>

<br>

<p>
<b>DIR FIRST$</b><br>
<i>function: get first file that satisfies current path name</i><br>
file$=<b>Dir First$</b>(path$)</p>

<p>
This function returns a string containing the name and the length of the first file on the current
disc that matches up with your chosen search path. For example, the next routine reports the
first file or folder in the current directory, followed by the first IFF file in the directory.
Obviously, this could be the same file.</p>

<pre>
E> Print Dir First$("*.*")
   Print Dir First$("*.IFF")
</pre>

<p>
When DIR FIRST$ is used, the whole directory listing is loaded into memory, so you can
continue to discover the name of the next file in the current directory with the following
function.</p>

<p>
<b>DIR NEXT$</b><br>
<i>function: get next file that satisfies current path</i><br>
file$=<b>Dir Next$</b></p>

<p>
Use this to return the filename that comes after the file or folder found by the previous DIR
FIRST$ search. If there are no more files to come, an empty string will be returned, "". Once the
last filename has been found, AMOS Professional will automatically grab back the memory used
by the directory array, and release it for the rest of your program to use. The next example prints
every file in the current directory.</p>

<pre>
E> F$=Dir First$("*.*")
   While F$<>""
    Print F$ : Wait 50
    F$=Dir Next$
   Wend
</pre>

<p><b>Selecting a file</b></p>

<p>
<b>FSEL$</b><br>
<i>function: select a file</i><br>
f$=<b>Fsel$</b>(path$)<br>
f$=<b>Fsel$</b>(path$,default$,title1$,title2$)</p>

<p>
This file selection function allows you to choose the files you need directly from a disc, using the
standard AMOS Professional file selector. In its simplest form, it operates like this:</p>

<pre>
D> Print Fsel$("*.IFF")
</pre>

<p>
The string held within the brackets is a path that sets the searching pattern, in that case an IFF
file. The following optional parameters may also be included:</p>

<p>
The optional default string is used to choose a filename that will be
automatically selected if you press [Return] and abort the process.</p>

<div align="right"> <a href="1013.html">Back</a> &nbsp;&nbsp;
  <a href="1015.html">Next</a>
  <br>
  10.02.07
</div>

</BODY>
</HTML>

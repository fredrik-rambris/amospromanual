<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Using the Keyboard</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Using the Keyboard</h1>

<br>

<p>
<b>KEY SHIFT</b><br>
<i>function: test the status of control keys</i><br>
bitmap=<b>Key Shift</b></p>

<p>
KEY SHIFT is used to report the current status of those keys which cannot be detected by either
INKEY$ or SCANCODE because they do not carry the relevant codes. These "control keys can
kb tested individually, or a test can be set up for any combination of such keys pressed together.
A single call to the KEY SHIFT function can test for all eventualities, by examining a bit map in
the following format</p>:

<pre>
<b>Bit    Key Tested       Notes</b>
0      left [Shift]     Only one [Shift] key can be tested at a time
1      right [Shift]    Only one [Shift] key can be tested at a time
2      [Caps Lock]      Either ON or OFF
3      [Ctrl]
4      left [Alt]
5      right [Alt]
6      left [Amiga]     This is the [Commodore] key on some keyboards
7      right [Amiga]
</pre>

<p>
If the report reveals that a bit is set to 1, then the associated key has been held down by the user,
otherwise a 0 is given. Here is a practical example:</p>

<pre>
E> Centre "Please press some Control keys"
   Curs Off
   Do
    Locate 14,4: Print Bin$(Key Shift,8)
   Loop
</pre>

<p>
These keys can also be used when setting up macro definitions, using the SCAN$ and KEY$
functions, and this is explained below.</p>

<p>
<b>CLEAR KEY</b><br>
<i>instruction: re-set the keyboard buffer</i><br>
<b>Clear Key</b></p>

<p>
When an appropriate character is entered from the keyboard, its Ascii code is placed in an area
of memory called the keyboard buffer. This buffer is then examined by the INKEY$ function in
order to report on key presses. CLEAR KEY completely erases this buffer and re-sets the
keyboard, making it a very useful command at the beginning of a program when the keyboard
buffer may be filled with unwanted information. CLEAR KEY can also be called immediately
before a WAIT KEY command, to make sure that the program waits for a fresh key-press before
proceeding.</p>

<div align="right"> <a href="1002.html">Back</a> &nbsp;&nbsp;
  <a href="1004.html">Next</a>
  <br>
  10.01.03
</div>

</BODY>
</HTML>

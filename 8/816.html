<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Samples</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a>

<h1>Samples</h1>

<br>

<p><b>SAM SWAP</b><br>
<i>instruction: activate sample-switching</i><br>
<b>Sam Swap</b> voices <b>To</b> address,length</p>

<p>
The SAM SWAP command activates the automatic sound-swapping system. It specifies the
location and size of a <b>logical</b> sample which has been loaded previously with the SLOAD
instruction. The sample will be played through loudspeakers the instant that the current
<b>physical</b> sample runs out of data.</p>

<p>
The voices parameter is a bit-pattern that defines which voices are to be used for playing the
sample. Each bit in this pattern sets the swapping on a particular voice, according to the
following format:</p>

<pre>
Voice   3210
Bitmap %1111
</pre>

<p>
The address parameter gives the address of the next logical sample in memory. This address
must be in CHIP Ram. Length is simply the number of bytes to be played of the new section of
sample.</p>

<p>
It is essential to note that SAM SWAP only works with an existing sample. It does not actually
play a sample through a loudspeaker. Therefore, it has to be initialised by a SAM RAW
command before it can be used, which will start off the physical sample and set up the playback
speed for the entire sample of sound. For example:</p>

<pre>
X> Sam Raw %0011,Start(5),20000,12000 : Rem 12000 is the playback speed
   Rem Swap the samples assigned to voices 0 and 1 using data in bank 6
   Sam Swap %0011,Start(6),20000 : Rem 20000 is the length of logical sample
</pre>

<p><b>SAM SWAPPED</b><br>
<i>function: test for successful sample swap</i><br>
value=<b>Sam Swapped</b>(voice number)</p>

<p>
Use the SAM SWAPPED function to test the specified voice to see if the logical and physical
samples have been exchanged by a SAM SWAP command. The voice number is a value from
zero to 3, and if the sample is being played on a number of voices simultaneously, any of those
voice numbers can be used.</p>

<p>SAM SWAPPED will make a report by giving one of the following three values:</p>

<p>
<b>-1</b> means that the previous physical sample has finished playing, and the samples have been
successfully swapped. It is now time to load a new sample into the logical memory bank, and
call the SAM SWAP command again. Please note that this value is also returned after a normal
SAM RAW command has finished playing a sample.</p>

<p><b>Zero</b> means that the physical sample is currently being played, and there is a fresh logical</p>

<div align="right"> <a href="815.html">Back</a> &nbsp;&nbsp;
  <a href="817.html">Next</a>
  <br>
  08.02.06
</div>

</BODY>
</HTML>

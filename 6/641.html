<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Menus</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>Menus</h1>

<br>

<p>
Similarly, the CHOICE function can return the option selected at a required level in the menu
hierarchy. For example:</p>

<pre>
E> Menu$(1)="Title"
   Menu$(1,1)="Option 1"
   Menu$(1,2)="Option 2"
   Menu$(1,2,1)="Option 2.1"
   Menu On
   Do
    If Choice Then Print Choice(1),Choice(2),Choice(3)
   Loop
</pre>

<p>
For very large menus, the IF structure as used in the last example would become unwieldy, and
cause delays while the menus were being read. AMOS Professional provides a method for
handling the largest of menus.</p>

<p><b>ON MENU PROC</b><br>
<i>instruction: automatic menu selection</i><br>
<b>On Menu Proc</b> procedure1<br>
<b>On Menu Proc</b> procedure1,procedure2</p>

<p>
Each title in your menu can be assigned its own procedure which will be executed automatically
when that option is selected by the user. Like the other ON MENU commands that are
described next, ON MENU PROC uses interrupts, which means that it is performed 50 times a
second. So your program can be engaged in other tasks while the menus are continually
checked by the system.</p>

<p>
When automatic selection takes place as the result of ON MENU PROC, the procedure is
executed and the program will be returned to the instruction immediately after the ON MENU
call. Procedures can make use of the CHOICE function to monitor which option has been
triggered, and to perform the appropriate action.</p>

<p><b>ON MENU GOSUB</b><br>
<i>instruction: automatic menu selection</i><br>
<b>On Menu Gosub</b> label1<br>
<b>On Menu Gosub</b> label1,label2</p>

<p>
Depending on which option has been selected by the user, ON MENU GOSUB goes to the
appropriate subroutine. Unlike Amiga Basic, each title on the menu title bar is handled by its
own individual subroutine. After using this instruction, ON MENU should be used to activate
the menu system before jumping back to the main program with a RETURN. Also note that the
labels used with this command cannot be replaced by expressions, because the label will be
evaluated once only when the program is run.</p>

<div align="right"> <a href="640.html">Back</a> &nbsp;&nbsp;
  <a href="642.html">Next</a>
  <br>
  06.05.04
</div>

</BODY>
</HTML>

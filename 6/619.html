<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      This Amos Professional Manual is written by asymetrix for the Amiga community and should stay completly FREE FOREVER.
      Created 2008. :)
  -->
  <title>Amos Professional Manual - Using Screens</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="Amos Professional, Amiga, Programming, Basic, Francois Lionet, Europress Software Ltd, Amos, computing, code, AmigaDOS">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">

<a href="../index.html">Amos Professional Manual</a>&nbsp; <a href="../contents/c1.html">Contents</a>&nbsp; <a href="../14/1446.html">Index</a> 

<h1>Using Screens</h1>

<br>

<p>
If you only want to pack a part of any screen and not bother about the remaining area, simply
add the coordinates of the top left and bottom right-hand corners of the section to be packed.
Note that all x-coordinates will be automatically rounded to the nearest 8 pixel boundary.</p>

<p>
To provide you with the maximum memory saving, AMOS Professional will try and SPACK
your images using several alternative strategies. It will then choose the method that consumes
the least amount of memory. You are requested to be patient during the five or six seconds that
this process takes, and are assured that unpacking takes less than a second, so your programs
will run smoothly. If a one second delay is not acceptable to you, please see the alternative
system that uses GET CBLOCK and PUT CBLOCK in <a href="../7/773.html">Chapter 7.7</a>.</p>

<p><b>PACK</b><br>
<i>picture compactor extension: pack screen data</i><br>
<b>Pack</b> screen number <b>To</b> bank number<br>
<b>Pack</b> screen number <b>To</b> bank number xl,y1,x2,y2</p>

<p>
The PACK command is slightly different from SPACK, because it only compresses the image
data. This means that the image must always be unpacked into an existing screen. Also there
will be a slight flicker when the image is unpacked, unless the screens have been double
buffered, so it is better to use single buffered screens here. Screen numbers, memory bank
numbers and optional coordinates for smaller sections of the screen to be packed are used in
exactly the same way as with the SPACK command, and x-coordinates are rounded to the
nearest 8 pixel boundary too.</p>

<p>
SPACK is fully compatible with the standard AUTOBACK system explained in <a href="../7/713.html">Chapter 7.2</a>, so it
is easy to combine compacted images with moving screens. Images can even be unpacked
behind existing Bobs, so it is possible to exploit this command together with SCREEN OFFSET to
create superb scrolling backgrounds.</p>

<p><b>UNPACK</b><br>
<i>picture compactor extension: unpack a compacted screen</i><br>
<b>Unpack</b> bank number<br>
<b>Unpack</b> bank number,x,y<br>
<b>Unpack</b> bank number To screen number</p>

<p>
As you might expect, this is used to unpack crunched images. Using double buffered screens
will give smooth results, otherwise unpacking may get messy, and always make sure that the
destination screen is in exactly the same format as the packed picture or an error will be
generated.</p>

<p>
To unpack screen data at its original position, state which memory bank is to be unpacked,
like this:</p>

<pre>
X> Unpack 15
</pre>

<p>To re-draw the packed image starting from new top left-hand corner coordinates, include them</p>

<div align="right"> <a href="618.html">Back</a> &nbsp;&nbsp;
  <a href="620.html">Next</a>
  <br>
  06.02.06
</div>

</BODY>
</HTML>
